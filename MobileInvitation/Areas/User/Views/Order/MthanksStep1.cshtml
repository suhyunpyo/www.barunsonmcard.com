@using MobileInvitation.Models
@{
    Layout = "User_Layout";
}

<link rel="stylesheet" href="/css/order.css">
<link rel="stylesheet" href="/css/imgareaselect-default.css">
<script src="/js/jquery.imgareaselect.pack.js"></script>
<link rel="stylesheet" href="/css/cropper.min.css">
<style>
    .file_box {
        background-color: #FFFFFF;
        display: flex;
        flex-wrap: wrap;
        flex-direction: column; /*수직 정렬*/
        align-items: center;
        justify-content: center;
    }

    .pop_wrap.sns_pop .layer_pop h3 {
        margin: 0px;
    }

    .pop_wrap.sns_pop .layer_pop p {
        margin: 0px;
        padding: 10px 5px 10px 5px;
    }

    .pop_wrap.main_pop .layer_pop h3 {
        margin: 0px;
    }

    .pop_wrap.main_pop .layer_pop p {
        margin: 0px;
        padding: 10px 5px 10px 5px;
    }
</style>
<section class="order thanks">
    <div class="sub_con_wrap">
        <!-- 우측 상품 미리보기 -->
        <aside class="product_preview fixed">
            <div class="sticky_box">
                <!-- 주문 제작단계 -->
                <div class="step_view">
                    <ol>
                        <li class="on">
                            <span>1</span>
                            <p><strong>정보입력</strong></p>
                        </li>
                        <li>
                            <span>2</span>
                            <p><strong>제작 완료</strong></p>
                        </li>
                    </ol>
                </div>
                <!-- //주문 제작단계 -->
                <div class="product_info">
                    <!-- 미리보기 이미지 영역 -->
                    <!-- 상품 이미지 영역 -->
                    <div class="product_img">
                        <div class="preview_box">
                            <div class="img_con">
                                <iframe id="preview_frame" class="viewPort" src="~/Invitation/@ViewData["Invitation_Id"]/1 " frameborder="0" width="100%" marginwidth="0" marginheight="0" onload="previewCalcHeight();"></iframe>
                            </div>
                        </div>
                    </div>
                    <!-- //상품 이미지 영역 -->
                </div>
            </div>
        </aside>
        <!-- //우측 상품 미리보기 -->
        <!-- 우측 컨텐츠 영역 -->
        <div class="sub_contents">
            <div class="order_area">
                <!-- 주문자 정보 -->
                <div class="order_con">
                    <h2>주문자 정보</h2>
                    <table class="order_table type01">
                        <caption>주문자 정보</caption>
                        <colgroup>
                            <col style="width:145px;">
                            <col style="width:585px">
                        </colgroup>
                        <tr>
                            <th>주문자명</th>
                            <td>
                                <input type="text" class="inp name_inp w200" id="Name" placeholder="홍길동" value="@ViewData["Name"]" />
                            </td>
                        </tr>
                        <tr>
                            <th>휴대폰 번호</th>
                            <td>
                                <input type="text" class="inp num_inp w200" placeholder="'-'없이 숫자만 입력하세요." id="CellPhone_Number" value="@ViewData["CellPhone_Number"]">
                            </td>
                        </tr>
                        <tr>
                            <th>이메일 주소</th>
                            <td>
                                <input type="text" class="inp w200" id="Email_Account" value="@ViewData["Email_Account"]">

                                <span class="select_wrap type01">
                                    &#64;
                                    <select id="selEmail" class="select w170 ml5">
                                        <option>직접 입력</option>
                                        <option>naver.com</option>
                                        <option>nate.com</option>
                                        <option>hotmail.com</option>
                                        <option>hanmail.com</option>
                                        <option>daum.net</option>
                                        <option>gmail.com</option>
                                    </select>
                                </span>
                                <input type="text" class="inp email_inp w170" id="Email_Address" value="@ViewData["Email_Address"]">
                                <!-- select 직접 입력 선택하는 경우 입력창 노출 -->

                            </td>
                        </tr>
                    </table>
                </div>
                <!-- //주문자 정보 -->
                <!-- 기본 정보 -->
                <div class="order_con default_info">
                    <h2>기본 정보</h2>
                    <table class="order_table type01">
                        <caption>기본 정보</caption>
                        <colgroup>
                            <col style="width:145px;">
                            <col style="width:40%">
                            <col style="width:145px;">
                            <col style="width:auto">
                        </colgroup>
                        <tr>
                            <th>감사장 url</th>
                            <td colspan="3">
                                <div class="url_wrap">
                                    <p class="bf_url"><strong>https://www.barunsonmcard.com/m/</strong></p>
                                    <span class="url_check" style="width:260px">
                                        <input type="text" autocomplete="off" id="Invitation_URL" class="inp wp100" placeholder="영문, 숫자, 특수문자( _ , - )조합 사용(최대 12자)" maxlength="12" value="@ViewData["Invitation_URL"]">
                                        <span class="url_text"></span>
                                    </span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th>
                                감사장 제목
                                <span class="ico notice" onclick="layerPopOpen('thanks_title_pop')">툴팁 아이콘</span>
                            </th>
                            <td colspan="3">
                                <input type="text" id="Invitation_Title" class="inp wp100 input_match" placeholder="진심으로 감사드립니다." value="@ViewData["Invitation_Title"]">
                                <div class="pop_wrap pop_l thanks_title_pop">
                                    <div class="layer_pop">
                                        <h3>감사장 제목</h3>
                                        <div class="img_con">
                                            <img src="/img/order/title_img.jpg" alt="감사장 제목 안내 이미지" />
                                        </div>
                                        <p class="pop_text">SNS공유시 카카오톡,페이스북등의 <strong>메인텍스트</strong>로 사용됩니다.</p>
                                        <div class="btn_wrap type01">
                                            <a href="javascript:;" class="btn type03_1" onclick="popClose()">닫기</a>
                                        </div>
                                    </div>
                                    <div class="pop_mask"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th class="vt">감사 인사말</th>
                            <td colspan="3">
                                <div class="btn_wrap">
                                    <a href="javascript:layerPopOpen('greetings_thanks_pop');" class="btn type03 sample_btn">인사말 샘플보기</a>
                                </div>
                                <div class="text_area_wrap">
                                    <textarea idx="2" id="Greetings" cols="30" rows="10" class="input_match">@ViewData["Greetings"]</textarea>
                                </div>
                                <!-- 인사말 선택 팝업 -->
                                <div id="greetingsPop" class="pop_wrap pop_l greetings_thanks_pop greetings_pop">
                                    <div class="layer_pop">
                                        <h3>인사말 선택</h3>
                                        <div class="pop_contents">
                                            <div class="pop_area">
                                                <!-- pop_menu_list -->
                                                <div class="pop_menu_list">
                                                    <div class="swiper-container">
                                                        <!-- Additional required wrapper -->
                                                        <div class="swiper-wrapper">
                                                            <!-- Slides -->
                                                            <div class="swiper-slide">
                                                                <a href="javascript:;" class="active">베스트</a>
                                                            </div>
                                                        </div>
                                                        <!-- //Additional required wrapper -->
                                                    </div>
                                                </div>
                                                <!-- //pop_menu_list -->
                                                <!-- 인사말 샘플 텍스트 -->
                                                <div class="sample_contents">
                                                    <!-- 베스트 -->
                                                    <div class="sample_con">
                                                        <ol>
                                                            <li>
                                                                <div class="sample_num">01</div>
                                                                <div class="sample_text">
                                                                    <p>
                                                                        저희 집 혼사시에 바쁘신 중에도<br />각별하신 축하와 후의를 베풀어 주신데 대하여<br />진심으로 감사를 드립니다.<br />마땅히 찾아 뵈옵고<br />인사를 드리는 것이 도리이오나<br />우선 글월로 감사 드림을<br />너그럽게 받아 주셨으면 합니다.<br />댁내에 건강과 평안이 늘 함께 하시기를 기원합니다.
                                                                    </p>
                                                                    <a href="javascript:;" class="sample_save">적용하기</a>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div class="sample_num">02</div>
                                                                <div class="sample_text">
                                                                    <p>
                                                                        바쁘신 중에도 축하해 주신데 대하여<br />진심으로 감사를 드립니다.<br />저와 저희 가정에 보내주신 따뜻한 정,<br />오래오래 마음깊이 간직하겠습니다.<br />가정에 건강과 평안이<br />늘 함께 하시기를 기원합니다.
                                                                    </p>
                                                                    <a href="javascript:;" class="sample_save">적용하기</a>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div class="sample_num">03</div>
                                                                <div class="sample_text">
                                                                    <p>
                                                                        저희 집 혼사에 어려운 상황임에도 불구하고<br />축하와 후의를 베풀어 주셔서<br />진심으로 감사드립니다.<br />힘든 시기가 지나<br />소중한 일상을 함께 할 수 있길 바라며<br />항상 건강하시고 행복이 가득하시길 기원합니다.
                                                                    </p>
                                                                    <a href="javascript:;" class="sample_save">적용하기</a>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div class="sample_num">04</div>
                                                                <div class="sample_text">
                                                                    <p>
                                                                        오늘 같이 아름다운 날,<br />바쁘신 중에도 각별히 저희 결혼에<br />축하와 후의를 베풀어 주심에<br />진심으로 감사 드립니다.
                                                                    </p>
                                                                    <a href="javascript:;" class="sample_save">적용하기</a>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div class="sample_num">05</div>
                                                                <div class="sample_text">
                                                                    <p>
                                                                        오늘 저희 집 혼사에<br />각별한 축하와 호의를 베풀어 주셔서<br />진심으로 감사드립니다.<br />댁내에 건강과 평안이 늘 함께 하시고<br />뜻하시는 모든 일이 형통하시길 기원합니다.
                                                                    </p>
                                                                    <a href="javascript:;" class="sample_save">적용하기</a>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                    <!-- //베스트 -->
                                                </div>
                                                <!-- //인사말 샘플 텍스트 -->
                                            </div>
                                        </div>
                                        <div class="btn_wrap type01">
                                            <a href="javascript:;" class="btn type03_1" onclick="popClose()">닫기</a>
                                        </div>
                                    </div>
                                    <div class="pop_mask"></div>
                                </div>
                                <!-- //인사말 선택 팝업 -->
                            </td>
                        </tr>
                        <!-- 포토형 청첩장인 경우에만 해당 영역 출력 -->
                        <tr>
                           @*  <td class="vt pt40 tip_box img_help">
                                공유 이미지
                                <span class="ico notice" onclick="layerPopOpen('share_img_pop')">툴팁 아이콘</span>
                            </td> *@
                            <td>
                                <div class="vt pt30 tip_box img_help" style="font-size:18px;">
                                    공유 이미지
                                    <span class="ico notice" onclick="layerPopOpen('share_img_pop')">툴팁 아이콘</span>
                                </div>
                                <div class="sort_wrap" style="width:240px;">
                                    <ul class="sort_list sns">
                                        <li id="sns_img">
                                            <div class="file_box">
                                                <div class="img_preview" style="display:none;">
                                                    <img class="sns_img" orgimg="@ViewData["SNS_Image_URL"]" src="@ViewData["SNS_Image_URL"]" style="max-width:159px;max-height:159px;">
                                                </div>
                                                <label name="file" onclick="fn_add_SNS_Image();"></label>
                                            </div>
                                            <div class="btn_wrap">
                                                <a href="javascript:;" class="crop ico">자르기</a>
                                                <a href="javascript:;" class="delete ico">삭제</a>
                                            </div>
                                        </li>
                                    </ul>
                                    <!-- 공유 이미지 안내 팝업 -->
                                    <div class="pop_wrap pop_l share_img_pop">
                                        <div class="layer_pop">
                                            <h3>공유 이미지</h3>
                                            <div class="img_con">
                                                <img src="/img/order/share_img.jpg" alt="공유 이미지 안내 이미지" />
                                            </div>
                                            <p class="pop_text" style="color:#333;">카카오톡, 문자(SMS) 공유 시 사용되는 이미지입니다.</p>
                                            @*<p class="pop_text">카카오톡, 문자(SMS) <strong>메인 이미지</strong> 공유 시 사용됩니다</p>*@
                                            <div class="text_info_box mt10">
                                                <p>이미지 용량은 1MB 이하의 파일 업로드를 권장합니다.</p>
                                                <p>
                                                    가로형 사진을 권장하며, 세로형 사진의 경우 등록 후 편집 버튼을 통해 <br />
                                                    가로형으로 편집 바랍니다.
                                                </p>
                                                <p>
                                                    공유하시는 SNS(카카오톡, 문자 등)에 따라 이미지 출력 형태가 각기 다르니, <br />
                                                    최대한 중앙에 피사체를 놓는 것을 권장합니다
                                                </p>
                                                <p>
                                                    <strong style="font-weight:bold;">공유이미지 변경 시</strong>, 카카오 서버와 네트워크 상황에 따라 반영이 늦어질 수 있습니다. (최대 24시간)
                                                </p>
                                            </div>
                                            <div class="btn_wrap type01">
                                                <a href="javascript:;" class="btn type03_1" onclick="popClose()">닫기</a>
                                            </div>
                                        </div>
                                        <div class="pop_mask"></div>
                                    </div>
                                    <!-- //공유 이미지 안내 팝업 -->
                                    <!-- 이미지 크롭 팝업 -->
                                    <div class="pop_wrap sns_pop">
                                        <div class="layer_pop">
                                            <h3>이미지 편집</h3>
                                            <p>사진의 원하는 부분을 드래그해서 편집해 주세요</p>
                                            <div class="img_box">
                                                <img id="crop_sns_img" style="max-width:400px; max-height:400px;" />
                                            </div>
                                            <div class="btn_wrap type02">
                                                <a href="javascript:;" class="btn type03_1" onclick="popClose();">취소</a>
                                                <a href="javascript:;" class="btn type03" onclick="CompleteCrop('sns');">확인</a>
                                            </div>
                                        </div>
                                        <div class="pop_mask"></div>
                                        <div style="visibility:hidden;overflow:hidden;height:0px;"><img id="crop_sns_img_org" /></div>
                                    </div>
                                    <!-- //이미지 크롭 팝업 -->
                                </div>
                            </td>
                            
                            <td class="isPhotoYn">
                                <div class="vt pt30 tip_box img_help isPhotoYn" style="font-size:18px;">
                                    대표 이미지
                                    <span class="ico notice" onclick="layerPopOpen('representative_img_pop')">툴팁 아이콘</span>
                                </div>
                                <div class="sort_wrap" style="width:240px;">
                                    <ul class="sort_list">
                                        <li id="main_img">
                                            <div class="file_box">
                                                <div class="img_preview" style="display:none;">
                                                    <img class="main_img" orgimg="@ViewData["Delegate_Image_URL"]" src="@ViewData["Delegate_Image_URL"]" style="max-width:159px;max-height:159px;">
                                                </div>
                                                <label name="file" onclick="fn_add_Main_Image();"></label>
                                            </div>
                                            <div class="btn_wrap">
                                                <a href="javascript:;" class="crop ico">자르기</a>
                                                <a href="javascript:;" class="delete ico">삭제</a>
                                            </div>
                                        </li>
                                    </ul>
                                    <!-- 대표 이미지 안내 팝업 -->
                                    <div class="pop_wrap pop_l representative_img_pop">
                                        <div class="layer_pop">
                                            <h3>대표 이미지</h3>
                                            <div class="img_con">
                                                <img src="/img/order/representative_img.jpg" alt="대표 이미지 안내 이미지" />
                                            </div>
                                            <p class="pop_text"><strong>포토형 감사장 메인</strong>에 사용되는 이미지입니다.</p>
                                            <div class="btn_wrap type01">
                                                <a href="javascript:;" class="btn type03_1" onclick="popClose()">닫기</a>
                                            </div>
                                        </div>
                                        <div class="pop_mask"></div>
                                    </div>
                                    <!-- //대표 이미지 안내 팝업 -->
                                    <!-- 이미지 크롭 팝업 -->
                                    <div class="pop_wrap main_pop">
                                        <div class="layer_pop">
                                            <h3>이미지 편집</h3>
                                            <p>사진의 원하는 부분을 드래그해서 편집해 주세요</p>
                                            <div class="img_box">
                                                <img id="crop_main_img" style="max-width:400px; max-height:400px;" />
                                            </div>
                                            <div class="btn_wrap type02">
                                                <a href="javascript:;" class="btn type03_1" onclick="popClose();">취소</a>
                                                <a href="javascript:;" class="btn type03" onclick="CompleteCrop('main');">확인</a>
                                            </div>
                                        </div>
                                        <div class="pop_mask"></div>
                                        <div style="visibility:hidden;overflow:hidden;height:0px;"><img id="crop_main_img_org" /></div>
                                    </div>
                                    <!-- //이미지 크롭 팝업 -->
                                </div>
                            </td>
                        </tr>
                        <!-- //포토형 청첩장인 경우에만 해당 영역 출력 -->
                    </table>
                </div>
                <!-- //기본 정보 -->
                <!-- 신랑신부 정보 -->
                <div class="order_con wedd_info">
                    <h2>신랑신부 정보</h2>
                    <table class="order_table type01">
                        <caption>신랑신부 정보</caption>
                        <colgroup>
                            <col style="width:145px;">
                            <col style="width:585px">
                        </colgroup>
                        <tr>
                            <th>신랑</th>
                            <td>
                                <input type="text" class="inp w180 input_match" idx="1" id="Groom_Name" placeholder="이름" value="@ViewData["Groom_Name"]">
                                <span class="number_box">
                                    <input type="text" class="inp w60 ml20 mr5 call_val input_match_ex1" id="Groom_Global_Phone_Number" value="@ViewData["Groom_Global_Phone_Number"]" @(ViewData["Groom_Global_Phone_YN"] != null && ViewData["Groom_Global_Phone_YN"].ToString() == "Y" ? "" : "readonly='readonly'")>
                                    <input type="text" class="inp w180 input_match_ex1" idx="1" id="Groom_Phone" placeholder="'-'없이 숫자만 입력하세요." value="@ViewData["Groom_Phone"]">
                                    <span class="check_box tip_box">
                                        <input type="checkbox" id="Groom_Global_Phone_YN" name="check" class="input_match_ex1" @(ViewData["Groom_Global_Phone_YN"] != null && ViewData["Groom_Global_Phone_YN"].ToString() == "Y" ? "checked='true'" : "") />
                                        <label for="Groom_Global_Phone_YN">국제전화</label>
                                        <span class="bn_tip w240">
                                            <h4>"+"를 포함한 국제전화 코드를 입력해주세요.</h4>
                                            <p>
                                                ex) 대한민국 : +82 <br />
                                                미국/캐나다 : +1 <br />
                                                베트남 : +84 <br />
                                                영국 : +44
                                            </p>
                                        </span>
                                    </span>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <th>신부</th>
                            <td>
                                <input type="text" class="inp input_match" idx="1" id="Bride_Name" placeholder="이름" value="@ViewData["Bride_Name"]">
                                <span class="number_box">
                                    <input type="text" class="inp w60 ml20 mr5 call_val input_match_ex1" id="Bride_Global_Phone_Number" value="@ViewData["Bride_Global_Phone_Number"]" @(ViewData["Bride_Global_Phone_YN"] != null && ViewData["Bride_Global_Phone_YN"].ToString() == "Y" ? "" : "readonly='readonly'")>
                                    <input type="text" class="inp w180 input_match_ex1" idx="1" id="Bride_Phone" placeholder="'-'없이 숫자만 입력하세요." value="@ViewData["Bride_Phone"]">
                                    <span class="check_box tip_box">
                                        <!--
                                            임시 id, name, for 입니다.
                                            작업 시 id와 for값 맞춰주세요!
                                        -->
                                        <input type="checkbox" id="Bride_Global_Phone_YN" class="input_match_ex1" @(ViewData["Bride_Global_Phone_YN"] != null && ViewData["Bride_Global_Phone_YN"].ToString() == "Y" ? "checked='true'" : "")>
                                        <label for="Bride_Global_Phone_YN">국제전화</label>
                                        <span class="bn_tip w240">
                                            <h4>"+"를 포함한 국제전화 코드를 입력해주세요.</h4>
                                            <p>
                                                ex) 대한민국 : +82 <br />
                                                미국/캐나다 : +1 <br />
                                                베트남 : +84 <br />
                                                영국 : +44
                                            </p>
                                        </span>
                                    </span>
                                </span>
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- //신랑신부 정보 -->
                <!-- 다음 단계로 이동 버튼 -->
                <div class="btn_wrap next_wrap">
                    <a href="javascript:" class="btn type03 wp100" id="btn_next">제작 완료</a>
                </div>
                <!-- 다음 단계로 이동 버튼 -->
            </div>
        </div>
        <!-- //우측 컨텐츠 영역 -->
    </div>
</section>
<form id="uploadFrm" enctype="multipart/form-data" method="post">
    <div class="modal-body">
        <input type="file" id="mainfile" name="files" accept=".jpg,.jpeg,.png" style="display:none">
        <input type="file" id="snsfile" name="files" accept=".jpg,.jpeg,.png" style="display:none">
    </div>
</form>
<input type="hidden" id="Order_Id" value="@ViewData["Order_Id"]" />
<input type="hidden" id="Invitation_Id" value="@ViewData["Invitation_Id"]" />
<input type="hidden" id="upload_path" value="@ViewData["upload_path"]" />
<input type="hidden" id="Photo_YN" value="@ViewData["Photo_YN"]" />


<input type="hidden" id="SNS_Image_Height" value="@ViewData["SNS_Image_Height"]" />
<input type="hidden" id="SNS_Image_Width" value="@ViewData["SNS_Image_Width"]" />
<input type="hidden" id="Delegate_Image_URL" value="@ViewData["Delegate_Image_URL"]" />
<input type="hidden" id="Delegate_Image_Height" value="@ViewData["Delegate_Image_Height"]" />
<input type="hidden" id="Delegate_Image_Width" value="@ViewData["Delegate_Image_Width"]" />

<input type="hidden" id="photo_width" />
<input type="hidden" id="photo_height" />

@section Scripts
{
    <script src="/js/step/mthanksstep1.js?ver=5.1"></script>
    <script src="/js/cropper.min.js"></script>
}